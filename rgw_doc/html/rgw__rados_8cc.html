<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Ceph RADOS Gateway: rgw_rados.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ceph RADOS Gateway
   &#160;<span id="projectnumber">4ba3d575b80ab88421d684e9d5b382b9ac0ae678</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rgw_rados.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &quot;common/ceph_json.h&quot;</code><br/>
<code>#include &quot;common/utf8.h&quot;</code><br/>
<code>#include &quot;common/errno.h&quot;</code><br/>
<code>#include &quot;common/Formatter.h&quot;</code><br/>
<code>#include &quot;common/Throttle.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__rados_8h_source.html">rgw_rados.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__cache_8h_source.html">rgw_cache.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__acl_8h_source.html">rgw_acl.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__acl__s3_8h_source.html">rgw_acl_s3.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__metadata_8h_source.html">rgw_metadata.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__bucket_8h_source.html">rgw_bucket.h</a>&quot;</code><br/>
<code>#include &quot;cls/rgw/cls_rgw_ops.h&quot;</code><br/>
<code>#include &quot;cls/rgw/cls_rgw_types.h&quot;</code><br/>
<code>#include &quot;cls/rgw/cls_rgw_client.h&quot;</code><br/>
<code>#include &quot;cls/refcount/cls_refcount_client.h&quot;</code><br/>
<code>#include &quot;cls/version/cls_version_client.h&quot;</code><br/>
<code>#include &quot;cls/log/cls_log_client.h&quot;</code><br/>
<code>#include &quot;cls/statelog/cls_statelog_client.h&quot;</code><br/>
<code>#include &quot;cls/lock/cls_lock_client.h&quot;</code><br/>
<code>#include &quot;cls/user/cls_user_client.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__tools_8h_source.html">rgw_tools.h</a>&quot;</code><br/>
<code>#include &quot;common/Clock.h&quot;</code><br/>
<code>#include &quot;include/rados/librados.hpp&quot;</code><br/>
<code>#include &lt;string&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;vector&gt;</code><br/>
<code>#include &lt;list&gt;</code><br/>
<code>#include &lt;map&gt;</code><br/>
<code>#include &quot;auth/Crypto.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__log_8h_source.html">rgw_log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rgw__gc_8h_source.html">rgw_gc.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rgw_rados.cc:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__rados_8cc__incl.png" border="0" usemap="#rgw__rados_8cc" alt=""/></div>
<map name="rgw__rados_8cc" id="rgw__rados_8cc">
<area shape="rect" id="node10" href="rgw__rados_8h.html" title="rgw_rados.h" alt="" coords="2099,171,2192,197"/><area shape="rect" id="node21" href="rgw__acl_8h.html" title="rgw_acl.h" alt="" coords="1151,419,1229,445"/><area shape="rect" id="node27" href="rgw__log_8h.html" title="rgw_log.h" alt="" coords="1785,253,1863,280"/><area shape="rect" id="node28" href="rgw__metadata_8h.html" title="rgw_metadata.h" alt="" coords="2040,253,2155,280"/><area shape="rect" id="node30" href="rgw__cache_8h.html" title="rgw_cache.h" alt="" coords="1332,88,1428,115"/><area shape="rect" id="node32" href="rgw__acl__s3_8h.html" title="rgw_acl_s3.h" alt="" coords="827,336,925,363"/><area shape="rect" id="node36" href="rgw__bucket_8h.html" title="rgw_bucket.h" alt="" coords="1738,88,1837,115"/><area shape="rect" id="node37" href="rgw__tools_8h.html" title="rgw_tools.h" alt="" coords="1355,253,1444,280"/><area shape="rect" id="node50" href="rgw__gc_8h.html" title="rgw_gc.h" alt="" coords="2079,88,2152,115"/><area shape="rect" id="node15" href="rgw__common_8h.html" title="rgw_common.h" alt="" coords="1843,336,1953,363"/><area shape="rect" id="node29" href="rgw__rest__conn_8h.html" title="rgw_rest_conn.h" alt="" coords="2467,253,2585,280"/><area shape="rect" id="node35" href="rgw__xml_8h.html" title="rgw_xml.h" alt="" coords="700,419,781,445"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRGWWatcher.html">RGWWatcher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlog__list__state.html">log_list_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlog__show__state.html">log_show_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRGWRadosPutObj.html">RGWRadosPutObj</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structget__obj__aio__data.html">get_obj_aio_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structget__obj__io.html">get_obj_io</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structget__obj__data.html">get_obj_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRGWGetBucketStatsContext.html">RGWGetBucketStatsContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRGWGetUserStatsContext.html">RGWGetUserStatsContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbucket__info__entry.html">bucket_info_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRGWAccessListFilterPrefix.html">RGWAccessListFilterPrefix</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5580a2b7c4743669bb9ca22b07e84324"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>&#160;&#160;&#160;ceph_subsys_rgw</td></tr>
<tr class="separator:a5580a2b7c4743669bb9ca22b07e84324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b240e7afeff403d2410e523a9f7312c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a2b240e7afeff403d2410e523a9f7312c">MAX_BUCKET_INDEX_SHARDS_PRIME</a>&#160;&#160;&#160;7877</td></tr>
<tr class="separator:a2b240e7afeff403d2410e523a9f7312c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d1a1347b3df816d18b0430f630ece6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#ac2d1a1347b3df816d18b0430f630ece6">RGW_USAGE_OBJ_PREFIX</a>&#160;&#160;&#160;&quot;usage.&quot;</td></tr>
<tr class="separator:ac2d1a1347b3df816d18b0430f630ece6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8824c4a4db1506a8bf6ee67b4f008b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a0b8824c4a4db1506a8bf6ee67b4f008b">RGW_DEFAULT_ZONE_ROOT_POOL</a>&#160;&#160;&#160;&quot;.rgw.root&quot;</td></tr>
<tr class="separator:a0b8824c4a4db1506a8bf6ee67b4f008b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a6146f863065337a90bb52c9663139"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#ab6a6146f863065337a90bb52c9663139">RGW_DEFAULT_REGION_ROOT_POOL</a>&#160;&#160;&#160;&quot;.rgw.root&quot;</td></tr>
<tr class="separator:ab6a6146f863065337a90bb52c9663139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a5c61078344fa02ddf5184cffcac0a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a4a5c61078344fa02ddf5184cffcac0a6">RGW_STATELOG_OBJ_PREFIX</a>&#160;&#160;&#160;&quot;statelog.&quot;</td></tr>
<tr class="separator:a4a5c61078344fa02ddf5184cffcac0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5580a2b7c4743669bb9ca22b07e84324"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>&#160;&#160;&#160;ceph_subsys_rgw</td></tr>
<tr class="separator:a5580a2b7c4743669bb9ca22b07e84324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415167a842f3b3014a33a23b3cf746a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a415167a842f3b3014a33a23b3cf746a9">TAG_LEN</a>&#160;&#160;&#160;24</td></tr>
<tr class="separator:a415167a842f3b3014a33a23b3cf746a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56327fa14cd6884a5c5a14609a43cfb7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a56327fa14cd6884a5c5a14609a43cfb7">MAX_CREATE_RETRIES</a>&#160;&#160;&#160;20 /* need to bound retries */</td></tr>
<tr class="separator:a56327fa14cd6884a5c5a14609a43cfb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a389dd5398d15be0a98756235e791e6cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a389dd5398d15be0a98756235e791e6cd">NUM_ENTRIES</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a389dd5398d15be0a98756235e791e6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e331caa6984892b8664d1a61a16a100"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a3e331caa6984892b8664d1a61a16a100">OLH_PENDING_TAG_LEN</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a3e331caa6984892b8664d1a61a16a100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d07567c9627500b13b0d45999e6142"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#ae9d07567c9627500b13b0d45999e6142">MAX_ECANCELED_RETRY</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:ae9d07567c9627500b13b0d45999e6142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab09bdc66a7fccb7ee76fb758c2cb00a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#aab09bdc66a7fccb7ee76fb758c2cb00a">OBJ_INSTANCE_LEN</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:aab09bdc66a7fccb7ee76fb758c2cb00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10d4a35a3573048226e39dd338cc0ece"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a10d4a35a3573048226e39dd338cc0ece">add_new_connection_to_map</a> (map&lt; string, <a class="el" href="classRGWRESTConn.html">RGWRESTConn</a> * &gt; &amp;region_conn_map, <a class="el" href="structRGWRegion.html">RGWRegion</a> &amp;region, <a class="el" href="classRGWRESTConn.html">RGWRESTConn</a> *new_connection)</td></tr>
<tr class="separator:a10d4a35a3573048226e39dd338cc0ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59a917c44fce84dce5c08cce638f27b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#aa59a917c44fce84dce5c08cce638f27b">usage_log_hash</a> (CephContext *cct, const string &amp;name, string &amp;hash, uint32_t index)</td></tr>
<tr class="separator:aa59a917c44fce84dce5c08cce638f27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8691b6fc355297a79e507bbd2007040c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a8691b6fc355297a79e507bbd2007040c">rgw_policy_from_attrset</a> (CephContext *cct, map&lt; string, bufferlist &gt; &amp;attrset, <a class="el" href="classRGWAccessControlPolicy.html">RGWAccessControlPolicy</a> *policy)</td></tr>
<tr class="separator:a8691b6fc355297a79e507bbd2007040c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5394a91b025fd09a99c70ca53d59905a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a5394a91b025fd09a99c70ca53d59905a">set_copy_attrs</a> (map&lt; string, bufferlist &gt; &amp;src_attrs, map&lt; string, bufferlist &gt; &amp;attrs, bool replace_attrs, bool intra_region)</td></tr>
<tr class="separator:a5394a91b025fd09a99c70ca53d59905a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52115e18448d62233e96f456862ec62a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a52115e18448d62233e96f456862ec62a">accumulate_raw_stats</a> (rgw_bucket_dir_header &amp;header, map&lt; <a class="el" href="rgw__common_8h.html#aeac15a8adcd97f2b0b033244c5377bf1">RGWObjCategory</a>, <a class="el" href="structRGWStorageStats.html">RGWStorageStats</a> &gt; &amp;stats)</td></tr>
<tr class="separator:a52115e18448d62233e96f456862ec62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3aa439c7d0abaf28d1856921f9b06d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a3b3aa439c7d0abaf28d1856921f9b06d">generate_fake_tag</a> (CephContext *cct, map&lt; string, bufferlist &gt; &amp;attrset, <a class="el" href="classRGWObjManifest.html">RGWObjManifest</a> &amp;manifest, bufferlist &amp;manifest_bl, bufferlist &amp;tag_bl)</td></tr>
<tr class="separator:a3b3aa439c7d0abaf28d1856921f9b06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffbb173be76489afbffac17148ad1d2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#aeffbb173be76489afbffac17148ad1d2">is_olh</a> (map&lt; string, bufferlist &gt; &amp;attrs)</td></tr>
<tr class="separator:aeffbb173be76489afbffac17148ad1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25285c4105a9295db48ef72dd2c659d2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a25285c4105a9295db48ef72dd2c659d2">has_olh_tag</a> (map&lt; string, bufferlist &gt; &amp;attrs)</td></tr>
<tr class="separator:a25285c4105a9295db48ef72dd2c659d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b838a8b48aba8032d314527e1ec83e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#ae2b838a8b48aba8032d314527e1ec83e">_get_obj_aio_completion_cb</a> (completion_t cb, void *arg)</td></tr>
<tr class="separator:ae2b838a8b48aba8032d314527e1ec83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d81c1f65c19725d3bec1979a239e5b7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a8d81c1f65c19725d3bec1979a239e5b7">_get_obj_iterate_cb</a> (<a class="el" href="classrgw__obj.html">rgw_obj</a> &amp;obj, off_t obj_ofs, off_t read_ofs, off_t len, bool is_head_obj, <a class="el" href="structRGWObjState.html">RGWObjState</a> *astate, void *arg)</td></tr>
<tr class="separator:a8d81c1f65c19725d3bec1979a239e5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8d0161bb8d0239f6c4f879035e46a7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#aee8d0161bb8d0239f6c4f879035e46a7">filter_attrset</a> (map&lt; string, bufferlist &gt; &amp;unfiltered_attrset, const string &amp;check_prefix, map&lt; string, bufferlist &gt; *attrset)</td></tr>
<tr class="separator:aee8d0161bb8d0239f6c4f879035e46a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aee80a884046a20cab48f95a33f352507"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classRGWCache.html">RGWCache</a>&lt; <a class="el" href="classRGWRados.html">RGWRados</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#aee80a884046a20cab48f95a33f352507">cached_rados_provider</a></td></tr>
<tr class="separator:aee80a884046a20cab48f95a33f352507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac682ba13fd36e90aa408e1ee2b3681"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classRGWRados.html">RGWRados</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a8ac682ba13fd36e90aa408e1ee2b3681">rados_provider</a></td></tr>
<tr class="separator:a8ac682ba13fd36e90aa408e1ee2b3681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1cff0acbc56782a64a23ca391e9063"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a9c1cff0acbc56782a64a23ca391e9063">notify_oid_prefix</a> = &quot;notify&quot;</td></tr>
<tr class="separator:a9c1cff0acbc56782a64a23ca391e9063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5817d1dc8c9975cef1384a382ac3339b"><td class="memItemLeft" align="right" valign="top">static string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a5817d1dc8c9975cef1384a382ac3339b">notify_oids</a> = NULL</td></tr>
<tr class="separator:a5817d1dc8c9975cef1384a382ac3339b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2db3a5d0813e9d1bca3e336749b9341"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#ab2db3a5d0813e9d1bca3e336749b9341">shadow_ns</a> = &quot;shadow&quot;</td></tr>
<tr class="separator:ab2db3a5d0813e9d1bca3e336749b9341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af2e89636bd0bbd1ab66390853f76e4"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a3af2e89636bd0bbd1ab66390853f76e4">dir_oid_prefix</a> = &quot;.dir.&quot;</td></tr>
<tr class="separator:a3af2e89636bd0bbd1ab66390853f76e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26b05e9de4e1ab9bb080315d3700229"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#aa26b05e9de4e1ab9bb080315d3700229">default_storage_pool</a> = &quot;.rgw.buckets&quot;</td></tr>
<tr class="separator:aa26b05e9de4e1ab9bb080315d3700229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89b7d61604a533768c62d22404e768f"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#ab89b7d61604a533768c62d22404e768f">default_storage_extra_pool</a> = &quot;.rgw.buckets.extra&quot;</td></tr>
<tr class="separator:ab89b7d61604a533768c62d22404e768f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c004bc2fb70718f18f9bf38fe741b2"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a42c004bc2fb70718f18f9bf38fe741b2">avail_pools</a> = &quot;.pools.avail&quot;</td></tr>
<tr class="separator:a42c004bc2fb70718f18f9bf38fe741b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e178620f5b0f0d2613e63b9b0c97a17"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a2e178620f5b0f0d2613e63b9b0c97a17">zone_info_oid_prefix</a> = &quot;zone_info.&quot;</td></tr>
<tr class="separator:a2e178620f5b0f0d2613e63b9b0c97a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a677370ed6b9223315b5a9d7a68e5da20"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a677370ed6b9223315b5a9d7a68e5da20">region_info_oid_prefix</a> = &quot;region_info.&quot;</td></tr>
<tr class="separator:a677370ed6b9223315b5a9d7a68e5da20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235aeced8c48f779a839c2f8692d3704"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a235aeced8c48f779a839c2f8692d3704">default_region_info_oid</a> = &quot;default.region&quot;</td></tr>
<tr class="separator:a235aeced8c48f779a839c2f8692d3704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d5ac15be70a1c288524a7ee0594323"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#a30d5ac15be70a1c288524a7ee0594323">region_map_oid</a> = &quot;region_map&quot;</td></tr>
<tr class="separator:a30d5ac15be70a1c288524a7ee0594323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf14ca34146310ea5033d089736cdda"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#abcf14ca34146310ea5033d089736cdda">log_lock_name</a> = &quot;rgw_log_lock&quot;</td></tr>
<tr class="separator:abcf14ca34146310ea5033d089736cdda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4c0865b925fc9d2c9bc37d50047427"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rgw__common_8h.html#aeac15a8adcd97f2b0b033244c5377bf1">RGWObjCategory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#afe4c0865b925fc9d2c9bc37d50047427">main_category</a> = <a class="el" href="rgw__common_8h.html#aeac15a8adcd97f2b0b033244c5377bf1a7ef2319c6c4c9e6eb00926f1123bac18">RGW_OBJ_CATEGORY_MAIN</a></td></tr>
<tr class="separator:afe4c0865b925fc9d2c9bc37d50047427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf78982a38a1b7688906677516a04088"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classRGWChainedCacheImpl.html">RGWChainedCacheImpl</a><br class="typebreak"/>
&lt; <a class="el" href="structbucket__info__entry.html">bucket_info_entry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__rados_8cc.html#abf78982a38a1b7688906677516a04088">binfo_cache</a></td></tr>
<tr class="separator:abf78982a38a1b7688906677516a04088"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a5580a2b7c4743669bb9ca22b07e84324"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dout_subsys&#160;&#160;&#160;ceph_subsys_rgw</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5580a2b7c4743669bb9ca22b07e84324"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dout_subsys&#160;&#160;&#160;ceph_subsys_rgw</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2b240e7afeff403d2410e523a9f7312c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BUCKET_INDEX_SHARDS_PRIME&#160;&#160;&#160;7877</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a56327fa14cd6884a5c5a14609a43cfb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CREATE_RETRIES&#160;&#160;&#160;20 /* need to bound retries */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9d07567c9627500b13b0d45999e6142"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ECANCELED_RETRY&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a389dd5398d15be0a98756235e791e6cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_ENTRIES&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aab09bdc66a7fccb7ee76fb758c2cb00a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OBJ_INSTANCE_LEN&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e331caa6984892b8664d1a61a16a100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OLH_PENDING_TAG_LEN&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab6a6146f863065337a90bb52c9663139"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RGW_DEFAULT_REGION_ROOT_POOL&#160;&#160;&#160;&quot;.rgw.root&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0b8824c4a4db1506a8bf6ee67b4f008b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RGW_DEFAULT_ZONE_ROOT_POOL&#160;&#160;&#160;&quot;.rgw.root&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4a5c61078344fa02ddf5184cffcac0a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RGW_STATELOG_OBJ_PREFIX&#160;&#160;&#160;&quot;statelog.&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac2d1a1347b3df816d18b0430f630ece6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RGW_USAGE_OBJ_PREFIX&#160;&#160;&#160;&quot;usage.&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a415167a842f3b3014a33a23b3cf746a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAG_LEN&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae2b838a8b48aba8032d314527e1ec83e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _get_obj_aio_completion_cb </td>
          <td>(</td>
          <td class="paramtype">completion_t&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8d81c1f65c19725d3bec1979a239e5b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _get_obj_iterate_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw__obj.html">rgw_obj</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>obj_ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>read_ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_head_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRGWObjState.html">RGWObjState</a> *&#160;</td>
          <td class="paramname"><em>astate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a52115e18448d62233e96f456862ec62a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void accumulate_raw_stats </td>
          <td>(</td>
          <td class="paramtype">rgw_bucket_dir_header &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; <a class="el" href="rgw__common_8h.html#aeac15a8adcd97f2b0b033244c5377bf1">RGWObjCategory</a>, <a class="el" href="structRGWStorageStats.html">RGWStorageStats</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a10d4a35a3573048226e39dd338cc0ece"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void add_new_connection_to_map </td>
          <td>(</td>
          <td class="paramtype">map&lt; string, <a class="el" href="classRGWRESTConn.html">RGWRESTConn</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>region_conn_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRGWRegion.html">RGWRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRGWRESTConn.html">RGWRESTConn</a> *&#160;</td>
          <td class="paramname"><em>new_connection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add new connection to connections map </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">region_conn_map</td><td>map which new connection will be added to </td></tr>
    <tr><td class="paramname">region</td><td>region which new connection will connect to </td></tr>
    <tr><td class="paramname">new_connection</td><td>pointer to new connection instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aee8d0161bb8d0239f6c4f879035e46a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void filter_attrset </td>
          <td>(</td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>unfiltered_attrset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>check_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, bufferlist &gt; *&#160;</td>
          <td class="paramname"><em>attrset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b3aa439c7d0abaf28d1856921f9b06d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void generate_fake_tag </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>cct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRGWObjManifest.html">RGWObjManifest</a> &amp;&#160;</td>
          <td class="paramname"><em>manifest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>manifest_bl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>tag_bl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a25285c4105a9295db48ef72dd2c659d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool has_olh_tag </td>
          <td>(</td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aeffbb173be76489afbffac17148ad1d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_olh </td>
          <td>(</td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8691b6fc355297a79e507bbd2007040c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw_policy_from_attrset </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>cct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRGWAccessControlPolicy.html">RGWAccessControlPolicy</a> *&#160;</td>
          <td class="paramname"><em>policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5394a91b025fd09a99c70ca53d59905a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_copy_attrs </td>
          <td>(</td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>src_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>replace_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>intra_region</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa59a917c44fce84dce5c08cce638f27b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usage_log_hash </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>cct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>usage_log_hash: get usage log key hash, based on name and index</p>
<p>Get the usage object name. Since a user may have more than 1 object holding that info (multiple shards), we use index to specify that shard number. Once index exceeds max shards it wraps. If name is not being set, results for all users will be returned and index will wrap only after total shards number.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cct</td><td>[in] ceph context </td></tr>
    <tr><td class="paramname">name</td><td>[in] user name </td></tr>
    <tr><td class="paramname">hash</td><td>[out] hash value </td></tr>
    <tr><td class="paramname">index</td><td>[in] shard index number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a42c004bc2fb70718f18f9bf38fe741b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string avail_pools = &quot;.pools.avail&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abf78982a38a1b7688906677516a04088"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRGWChainedCacheImpl.html">RGWChainedCacheImpl</a>&lt;<a class="el" href="structbucket__info__entry.html">bucket_info_entry</a>&gt; binfo_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aee80a884046a20cab48f95a33f352507"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRGWCache.html">RGWCache</a>&lt;<a class="el" href="classRGWRados.html">RGWRados</a>&gt; cached_rados_provider</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a235aeced8c48f779a839c2f8692d3704"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string default_region_info_oid = &quot;default.region&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab89b7d61604a533768c62d22404e768f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string default_storage_extra_pool = &quot;.rgw.buckets.extra&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa26b05e9de4e1ab9bb080315d3700229"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string default_storage_pool = &quot;.rgw.buckets&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3af2e89636bd0bbd1ab66390853f76e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string dir_oid_prefix = &quot;.dir.&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abcf14ca34146310ea5033d089736cdda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string log_lock_name = &quot;rgw_log_lock&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afe4c0865b925fc9d2c9bc37d50047427"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rgw__common_8h.html#aeac15a8adcd97f2b0b033244c5377bf1">RGWObjCategory</a> main_category = <a class="el" href="rgw__common_8h.html#aeac15a8adcd97f2b0b033244c5377bf1a7ef2319c6c4c9e6eb00926f1123bac18">RGW_OBJ_CATEGORY_MAIN</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9c1cff0acbc56782a64a23ca391e9063"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string notify_oid_prefix = &quot;notify&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5817d1dc8c9975cef1384a382ac3339b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* notify_oids = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8ac682ba13fd36e90aa408e1ee2b3681"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRGWRados.html">RGWRados</a> rados_provider</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a677370ed6b9223315b5a9d7a68e5da20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string region_info_oid_prefix = &quot;region_info.&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a30d5ac15be70a1c288524a7ee0594323"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string region_map_oid = &quot;region_map&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab2db3a5d0813e9d1bca3e336749b9341"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string shadow_ns = &quot;shadow&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e178620f5b0f0d2613e63b9b0c97a17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string zone_info_oid_prefix = &quot;zone_info.&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 18 2015 12:10:31 for Ceph RADOS Gateway by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
