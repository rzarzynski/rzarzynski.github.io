<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Ceph RADOS Library: Xattrs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ceph RADOS Library
   &#160;<span id="projectnumber">60e2bec73ff3970e0c6b44250ce465e6c5dde56f</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Xattrs<div class="ingroups"><a class="el" href="group__librados__h__synch__io.html">Synchronous I/O</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Xattrs:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__librados__h__xattrs.png" border="0" alt="" usemap="#group____librados____h____xattrs"/>
<map name="group____librados____h____xattrs" id="group____librados____h____xattrs">
<area shape="rect" id="node1" href="group__librados__h__synch__io.html" title="Synchronous I/O" alt="" coords="5,5,125,32"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1a42661f155dfdfc25573904f9fe8749"><td class="memItemLeft" align="right" valign="top">CEPH_RADOS_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librados__h__xattrs.html#ga1a42661f155dfdfc25573904f9fe8749">rados_getxattr</a> (<a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a> io, const char *o, const char *name, char *buf, size_t len)</td></tr>
<tr class="separator:ga1a42661f155dfdfc25573904f9fe8749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68c320a11946a5e3de8a07f1f63b0663"><td class="memItemLeft" align="right" valign="top">CEPH_RADOS_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librados__h__xattrs.html#ga68c320a11946a5e3de8a07f1f63b0663">rados_setxattr</a> (<a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a> io, const char *o, const char *name, const char *buf, size_t len)</td></tr>
<tr class="separator:ga68c320a11946a5e3de8a07f1f63b0663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ce9090dfd315a5489e66f6e1babe4ed"><td class="memItemLeft" align="right" valign="top">CEPH_RADOS_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librados__h__xattrs.html#ga3ce9090dfd315a5489e66f6e1babe4ed">rados_rmxattr</a> (<a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a> io, const char *o, const char *name)</td></tr>
<tr class="separator:ga3ce9090dfd315a5489e66f6e1babe4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cd7a2f9aabdff37d3feaba25adb6001"><td class="memItemLeft" align="right" valign="top">CEPH_RADOS_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librados__h__xattrs.html#ga3cd7a2f9aabdff37d3feaba25adb6001">rados_getxattrs</a> (<a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a> io, const char *oid, <a class="el" href="librados_8h.html#a44416b1d487862521589e0ead757fe3c">rados_xattrs_iter_t</a> *iter)</td></tr>
<tr class="separator:ga3cd7a2f9aabdff37d3feaba25adb6001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9fe9f160d6d11441ceb4570d56c8630"><td class="memItemLeft" align="right" valign="top">CEPH_RADOS_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librados__h__xattrs.html#gab9fe9f160d6d11441ceb4570d56c8630">rados_getxattrs_next</a> (<a class="el" href="librados_8h.html#a44416b1d487862521589e0ead757fe3c">rados_xattrs_iter_t</a> iter, const char **name, const char **val, size_t *len)</td></tr>
<tr class="separator:gab9fe9f160d6d11441ceb4570d56c8630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbf5f8bb4a12a188bfa122d5ec030824"><td class="memItemLeft" align="right" valign="top">CEPH_RADOS_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librados__h__xattrs.html#gabbf5f8bb4a12a188bfa122d5ec030824">rados_getxattrs_end</a> (<a class="el" href="librados_8h.html#a44416b1d487862521589e0ead757fe3c">rados_xattrs_iter_t</a> iter)</td></tr>
<tr class="separator:gabbf5f8bb4a12a188bfa122d5ec030824"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Extended attributes are stored as extended attributes on the files representing an object on the OSDs. Thus, they have the same limitations as the underlying filesystem. On ext4, this means that the total data stored in xattrs cannot exceed 4KB. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1a42661f155dfdfc25573904f9fe8749"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CEPH_RADOS_API int rados_getxattr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a>&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of an extended attribute on an object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io</td><td>the context in which the attribute is read </td></tr>
    <tr><td class="paramname">o</td><td>name of the object </td></tr>
    <tr><td class="paramname">name</td><td>which extended attribute to read </td></tr>
    <tr><td class="paramname">buf</td><td>where to store the result </td></tr>
    <tr><td class="paramname">len</td><td>size of buf in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of xattr value on success, negative error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga3cd7a2f9aabdff37d3feaba25adb6001"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CEPH_RADOS_API int rados_getxattrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a>&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="librados_8h.html#a44416b1d487862521589e0ead757fe3c">rados_xattrs_iter_t</a> *&#160;</td>
          <td class="paramname"><em>iter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start iterating over xattrs on an object.</p>
<dl class="section post"><dt>Postcondition</dt><dd>iter is a valid iterator</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io</td><td>the context in which to list xattrs </td></tr>
    <tr><td class="paramname">oid</td><td>name of the object </td></tr>
    <tr><td class="paramname">iter</td><td>where to store the iterator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="gabbf5f8bb4a12a188bfa122d5ec030824"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CEPH_RADOS_API void rados_getxattrs_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="librados_8h.html#a44416b1d487862521589e0ead757fe3c">rados_xattrs_iter_t</a>&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the xattr iterator.</p>
<p>iter should not be used after this is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>the iterator to close </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab9fe9f160d6d11441ceb4570d56c8630"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CEPH_RADOS_API int rados_getxattrs_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="librados_8h.html#a44416b1d487862521589e0ead757fe3c">rados_xattrs_iter_t</a>&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next xattr on the object</p>
<dl class="section pre"><dt>Precondition</dt><dd>iter is a valid iterator</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>name is the NULL-terminated name of the next xattr, and val contains the value of the xattr, which is of length len. If the end of the list has been reached, name and val are NULL, and len is 0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>iterator to advance </td></tr>
    <tr><td class="paramname">name</td><td>where to store the name of the next xattr </td></tr>
    <tr><td class="paramname">val</td><td>where to store the value of the next xattr </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes in val </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga3ce9090dfd315a5489e66f6e1babe4ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CEPH_RADOS_API int rados_rmxattr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a>&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete an extended attribute from an object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io</td><td>the context in which to delete the xattr </td></tr>
    <tr><td class="paramname">o</td><td>the name of the object </td></tr>
    <tr><td class="paramname">name</td><td>which xattr to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga68c320a11946a5e3de8a07f1f63b0663"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CEPH_RADOS_API int rados_setxattr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="librados_8h.html#aa892568c6a8b4f1c07785b228014e3e3">rados_ioctx_t</a>&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set an extended attribute on an object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io</td><td>the context in which xattr is set </td></tr>
    <tr><td class="paramname">o</td><td>name of the object </td></tr>
    <tr><td class="paramname">name</td><td>which extended attribute to set </td></tr>
    <tr><td class="paramname">buf</td><td>what to store in the xattr </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes in buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative error code on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 5 2015 14:26:23 for Ceph RADOS Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
